{% extends 'base.html' %}
{% block title %}Confirmation de réservation - GareCI{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <i class="fas fa-ticket-alt"></i>
            <h2>Confirmer votre réservation</h2>
        </div>

        <div class="reservation-details">
            <h3>Détails du voyage :</h3>
            <div class="detail-item">
                <i class="fas fa-route"></i>
                <span class="detail-label">Trajet :</span>
                <span class="detail-value">{{ departure.trip.origin }} → {{ departure.trip.destination }}</span>
            </div>
            <div class="detail-item">
                <i class="fas fa-calendar-day"></i>
                <span class="detail-label">Date :</span>
                <span class="detail-value">{{ departure.date|date:"l d F Y" }}</span>
            </div>
            <div class="detail-item">
                <i class="fas fa-clock"></i>
                <span class="detail-label">Heure :</span>
                <span class="detail-value">{{ departure.time|time:'H:i' }}</span>
            </div>
            <div class="detail-item">
                <i class="fas fa-bus"></i>
                <span class="detail-label">Bus :</span>
                <span class="detail-value">{{ departure.bus }}</span>
            </div>
            <div class="detail-item">
                <i class="fas fa-chair"></i>
                <span class="detail-label">Places disponibles :</span>
                <span class="detail-value">{{ departure.get_remaining_seats }}</span>
            </div>
            <div class="detail-item price">
                <i class="fas fa-money-bill-wave"></i>
                <span class="detail-label">Prix :</span>
                <span class="detail-value">{{ departure.trip.price }} FCFA</span>
            </div>
            <div class="detail-item info">
                <i class="fas fa-info-circle"></i>
                <span class="detail-label">Numéro de siège :</span>
                <span class="detail-value">Attribué automatiquement</span>
            </div>
        </div>

        <form method="post" class="auth-form">
            {% csrf_token %}
            
            {% if error %}
            <div class="alert alert-error">
                <i class="fas fa-exclamation-circle"></i>
                {{ error }}
            </div>
            {% endif %}

            <div class="form-actions">
                <button type="submit" class="btn btn-primary btn-block">
                    <i class="fas fa-check-circle"></i> Confirmer la réservation
                </button>
                <a href="{% url 'trips:home' %}" class="btn btn-outline btn-block">
                    <i class="fas fa-times-circle"></i> Annuler
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}